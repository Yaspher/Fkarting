<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Admin - FKarting</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="CSS/admin.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;700;900&family=Barlow:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
<div class="admin-layout">

  <!-- ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <aside class="sidebar">

    <!-- Logo -->
    <div class="sidebar-logo">
      <div class="sidebar-logo-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-md">
          <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/>
          <line x1="4" y1="22" x2="4" y2="15"/>
        </svg>
      </div>
      <div>
        <p class="sidebar-logo-title">FKARTING</p>
        <p class="sidebar-logo-sub">Admin</p>
      </div>
    </div>

    <!-- Nav -->
    <nav class="sidebar-nav">
      <span class="sidebar-nav-label">Secciones</span>

      <li class="sidebar-item active" data-section="dashboard">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-md">
          <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
          <rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/>
        </svg>
        Dashboard
      </li>

      <li class="sidebar-item" data-section="championships">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-md">
          <path d="M8 21h8m-4-4v4m-7-9h.01M19 12h.01M3 7h18v5a9 9 0 01-18 0V7z"/>
        </svg>
        Campeonatos
      </li>

      <li class="sidebar-item" data-section="drivers">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-md">
          <circle cx="12" cy="8" r="4"/>
          <path d="M4 20c0-4 3.6-7 8-7s8 3 8 7"/>
        </svg>
        Pilotos
      </li>

      <li class="sidebar-item" data-section="carreras">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-md">
          <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/>
          <line x1="4" y1="22" x2="4" y2="15"/>
        </svg>
        Carreras
      </li>

      <li class="sidebar-item" data-section="tiempos">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-md">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12 6 12 12 16 14"/>
        </svg>
        Tiempos
      </li>

      <li class="sidebar-item" data-section="ranking">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-md">
          <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
        </svg>
        Ranquin
      </li>
    </nav>

    <!-- Back -->
    <div class="sidebar-back">
      <a id="logout" href="index.html">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Volver al sitio
      </a>
    </div>
  </aside>

  <!-- ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <main class="content">

    <!-- TOP BAR -->
    <header class="admin-header">
      <div>
        <h1 class="admin-header-title" id="headerTitle">Panel Administrativo</h1>
        <p class="admin-header-sub">Panel de Administraci√≥n ¬∑ FKarting</p>
      </div>
      <div class="status-pill">
        <span class="status-dot"></span>
        <span class="status-text">Sistema activo</span>
      </div>
    </header>

    <!-- CONTENT AREA -->
    <div class="content-inner">

      <!-- ‚îÄ‚îÄ DASHBOARD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
      <section id="dashboard" class="section">
        <p class="section-note">Gesti√≥n del campeonato FKarting.</p>
        <div class="stats">
          <div class="stat-card" id="statDrivers">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="stat-icon">
              <circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 3.6-7 8-7s8 3 8 7"/>
            </svg>
            <div>
              <p class="stat-label">Pilotos</p>
              <p class="stat-value" id="statDriversVal">‚Äî</p>
            </div>
          </div>
          <div class="stat-card" id="statChamps">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="stat-icon">
              <path d="M8 21h8m-4-4v4m-7-9h.01M19 12h.01M3 7h18v5a9 9 0 01-18 0V7z"/>
            </svg>
            <div>
              <p class="stat-label">Campeonatos</p>
              <p class="stat-value" id="statChampsVal">‚Äî</p>
            </div>
          </div>
          <div class="stat-card" id="statRanking">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="stat-icon">
              <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
            </svg>
            <div>
              <p class="stat-label">En Ranquin</p>
              <p class="stat-value" id="statRankingVal">‚Äî</p>
            </div>
          </div>
        </div>
      </section>

      <!-- ‚îÄ‚îÄ CAMPEONATOS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
      <section id="championships" class="section hidden">
        <div class="section-header">
          <p class="section-count" id="champCount">0 campeonatos registrados</p>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">A√±o</label>
            <input type="number" id="yearInput" class="form-input" placeholder="Ej: 2026" min="2000" max="2099">
          </div>
          <div class="form-group form-group-wide">
            <label class="form-label">Descripci√≥n (opcional)</label>
            <input type="text" id="champDesc" class="form-input" placeholder="Descripci√≥n del campeonato">
          </div>
          <div class="form-group form-group-btn">
            <label class="form-label">&nbsp;</label>
            <button id="addYear" class="btn-primary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
              Agregar
            </button>
          </div>
        </div>
        <span class="save-msg" id="saveMsgChamp"></span>
        <ul id="yearList" class="item-list"></ul>
      </section>

      <!-- ‚îÄ‚îÄ PILOTOS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
      <section id="drivers" class="section hidden">
        <div class="section-header">
          <p class="section-count" id="driverCount">0 pilotos registrados</p>
          <button id="btnNewDriver" class="btn-primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
              <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            Nuevo Piloto
          </button>
        </div>
        <span class="save-msg" id="saveMsgDrivers"></span>
        <div class="table-wrap">
          <table class="pilots-table">
            <thead>
              <tr>
                <th class="col-num">#</th>
                <th class="col-name">Nombre</th>
                <th class="col-status">Estado</th>
                <th class="col-actions"></th>
              </tr>
            </thead>
            <tbody id="driverList"></tbody>
          </table>
        </div>
      </section>

      <!-- ‚îÄ‚îÄ CARRERAS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
      <section id="carreras" class="section hidden">
        <div class="section-header">
          <div class="section-filter">
            <label class="form-label">Campeonato</label>
            <select id="carrerasCampeonato" class="form-select" style="min-width:200px"></select>
          </div>
          <button id="btnNewCarrera" class="btn-primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
              <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            Nueva Carrera
          </button>
        </div>
        <span class="save-msg" id="saveMsgCarreras"></span>
        <div class="table-wrap">
          <table class="pilots-table">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Circuito</th>
                <th>Fecha</th>
                <th>Estado</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="carrerasList"></tbody>
          </table>
        </div>
      </section>

      <!-- ‚îÄ‚îÄ TIEMPOS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
      <section id="tiempos" class="section hidden">
        <div class="section-header">
          <div class="section-filters">
            <div class="filter-group">
              <label class="form-label">Campeonato</label>
              <select id="tiemposCampeonato" class="form-select" style="min-width:160px"></select>
            </div>
            <div class="filter-group">
              <label class="form-label">Carrera</label>
              <select id="tiemposCarrera" class="form-select" style="min-width:200px">
                <option value="">Seleccionar carrera...</option>
              </select>
            </div>
          </div>
          <button id="btnNewTiempo" class="btn-primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
              <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            Registrar Tiempo
          </button>
        </div>
        <span class="save-msg" id="saveMsgTiempos"></span>
        <div class="table-wrap">
          <table class="pilots-table">
            <thead>
              <tr>
                <th>Piloto</th>
                <th>Tiempo</th>
                <th>Vuelta R√°pida</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="tiemposList"></tbody>
          </table>
        </div>
      </section>

      <!-- ‚îÄ‚îÄ RANQUIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
      <section id="ranking" class="section hidden">
        <div class="ranking-top">
          <div class="form-group" style="min-width:200px">
            <label class="form-label">Campeonato</label>
            <select id="rankingCampeonato" class="form-select">
              <option value="">Cargando...</option>
            </select>
          </div>
          <button id="btnAddRanking" class="btn-primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
              <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            Agregar Piloto al Ranquin
          </button>
        </div>
        <span class="save-msg" id="saveMsgRanking"></span>
        <p class="section-note" style="margin-top:8px">
          Los datos se ordenan autom√°ticamente por puntos. Haz clic en ‚úé para editar un registro.
        </p>
        <div id="rankingList" class="ranking-list"></div>
      </section>

    </div><!-- /content-inner -->
  </main>
</div>

<!-- ‚îÄ‚îÄ MODAL PILOTOS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div id="driverModal" class="modal-overlay hidden">
  <div class="modal-box">
    <div class="modal-header">
      <h3 class="modal-title" id="driverModalTitle">Nuevo Piloto</h3>
      <button class="modal-close" id="btnCloseDriverModal">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="driverEditId">
      <div class="modal-grid">
        <div class="modal-field full">
          <label class="form-label">Nombre del piloto</label>
          <input type="text" id="driverName" class="form-input" placeholder="Nombre completo">
        </div>
        <div class="modal-field">
          <label class="form-label">N√∫mero</label>
          <input type="number" id="driverNumber" class="form-input" placeholder="Ej: 7" min="1">
        </div>
        <div class="modal-field">
          <label class="form-label">Estado</label>
          <select id="driverEstado" class="form-select">
            <option value="true">Activo</option>
            <option value="false">Inactivo</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button id="btnCancelDriverModal" class="btn-ghost">Cancelar</button>
        <button id="btnSaveDriver" class="btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ MODAL CARRERAS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div id="carreraModal" class="modal-overlay hidden">
  <div class="modal-box">
    <div class="modal-header">
      <h3 class="modal-title" id="carreraModalTitle">Nueva Carrera</h3>
      <button class="modal-close" id="btnCloseCarreraModal">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="carreraEditId">
      <div class="modal-grid">
        <div class="modal-field full">
          <label class="form-label">Nombre de la carrera</label>
          <input type="text" id="carreraNombre" class="form-input" placeholder="Ej: GP Circuito Norte">
        </div>
        <div class="modal-field full">
          <label class="form-label">Circuito</label>
          <input type="text" id="carreraCircuito" class="form-input" placeholder="Ej: Circuito Norte Internacional">
        </div>
        <div class="modal-field">
          <label class="form-label">Fecha</label>
          <input type="date" id="carreraFecha" class="form-input">
        </div>
        <div class="modal-field">
          <label class="form-label">Estado</label>
          <select id="carreraCompletada" class="form-select">
            <option value="false">Pendiente</option>
            <option value="true">Completada</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button id="btnCancelCarreraModal" class="btn-ghost">Cancelar</button>
        <button id="btnSaveCarrera" class="btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ MODAL TIEMPOS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div id="tiempoModal" class="modal-overlay hidden">
  <div class="modal-box">
    <div class="modal-header">
      <h3 class="modal-title" id="tiempoModalTitle">Registrar Tiempo</h3>
      <button class="modal-close" id="btnCloseTiempoModal">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="tiempoEditId">
      <div class="modal-grid">
        <div class="modal-field full">
          <label class="form-label">Piloto</label>
          <select id="tiempoPiloto" class="form-select">
            <option value="">Seleccionar piloto...</option>
          </select>
        </div>
        <div class="modal-field full">
          <label class="form-label">Tiempo <span style="color:var(--gray-500);font-size:0.7rem;text-transform:none;letter-spacing:0">(formato MM:SS.mmm ‚Äî ej: 01:12.450)</span></label>
          <input type="text" id="tiempoValor" class="form-input" placeholder="01:12.450">
        </div>
        <p class="modal-note">üèÅ La vuelta r√°pida por carrera se calcula autom√°ticamente.</p>
      </div>
      <div class="modal-footer">
        <button id="btnCancelTiempoModal" class="btn-ghost">Cancelar</button>
        <button id="btnSaveTiempo" class="btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ MODAL RANQUIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<div id="rankingModal" class="modal-overlay hidden">
  <div class="modal-box">
    <div class="modal-header">
      <h3 class="modal-title" id="rankingModalTitle">Agregar al Ranquin</h3>
      <button class="modal-close" id="btnCloseModal">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-sm">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="rankingEditId">
      <div class="modal-grid">
        <div class="modal-field full">
          <label class="form-label">Piloto</label>
          <select id="rankingPiloto" class="form-select">
            <option value="">Seleccionar piloto...</option>
          </select>
        </div>
        <div class="modal-field">
          <label class="form-label">Puntos</label>
          <input type="number" id="rankingPuntos" class="form-input" placeholder="0" min="0">
        </div>
        <div class="modal-field">
          <label class="form-label">Carreras</label>
          <input type="number" id="rankingCarreras" class="form-input" placeholder="0" min="0">
        </div>
        <div class="modal-field">
          <label class="form-label">Victorias</label>
          <input type="number" id="rankingVictorias" class="form-input" placeholder="0" min="0">
        </div>
        <div class="modal-field">
          <label class="form-label">Podios</label>
          <input type="number" id="rankingPodios" class="form-input" placeholder="0" min="0">
        </div>
      </div>
      <div class="modal-footer">
        <button id="btnCancelModal" class="btn-ghost">Cancelar</button>
        <button id="btnSaveRanking" class="btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>

<script src="js/admin.js"></script>
</body>
</html>